{"ast":null,"code":"var _jsxFileName = \"/Users/nicolasbugdaci/React/Udemy React/Twitch Clone Project/twitch-clone-react/src/Components/Sidebard/Sidebar.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../../api\";\n\nfunction Sidebar() {\n  const [topStreams, setTopStreams] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await api.get(\"https://api.twitch.tv/helix/streams\");\n      let dataArray = result.data.data;\n      let gameIDs = dataArray.map(stream => {\n        return stream.game_id;\n      });\n      let userIDs = dataArray.map(stream => {\n        return stream.user_id;\n      });\n      let baseUrlGames = \"https://api.twitch.tv/helix/games?\";\n      let baseUrlUsers = \"https://api.twitch.tv/helix/users?\";\n      let queryParamsGame = \"\";\n      let queryParamsUsers = \"\";\n      gameIDs.map(id => {\n        return queryParamsGame = queryParamsGame + `id=${id}$`;\n      });\n      userIDs.map(id => {\n        return queryParamsUsers = queryParamsUsers + `id=${id}$`;\n      });\n      let urlFinalGames = baseUrlGames + queryParamsGame;\n      let urlFinalUsers = baseUrlUsers + queryParamsUsers;\n      let gamesNames = await api.get(urlFinalGames);\n      let getUsers = await api.get(urlFinalUsers);\n      let gamesNameArray = gamesNames.data.data;\n      let arrayUsers = getUsers.data.data;\n      let finalArray = dataArray.map(stream => {\n        stream.gameName = \"\";\n        stream.truePic = \"\";\n        stream.login = \"\";\n        gamesNameArray.forEach(name => {\n          arrayUsers.forEach(user => {\n            if (stream.user_id === user.id && stream.game_id === name.id) {\n              stream.truePic = user.profile_image_url;\n              stream.gameName = name.name;\n              stream.login = user.login;\n            }\n          });\n        });\n        return stream;\n      });\n    };\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titreSidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Cha\\xEEnes recommand\\xE9es\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"lsiteStream\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Sidebar;","map":{"version":3,"sources":["/Users/nicolasbugdaci/React/Udemy React/Twitch Clone Project/twitch-clone-react/src/Components/Sidebard/Sidebar.jsx"],"names":["React","useEffect","useState","api","Sidebar","topStreams","setTopStreams","fetchData","result","get","dataArray","data","gameIDs","map","stream","game_id","userIDs","user_id","baseUrlGames","baseUrlUsers","queryParamsGame","queryParamsUsers","id","urlFinalGames","urlFinalUsers","gamesNames","getUsers","gamesNameArray","arrayUsers","finalArray","gameName","truePic","login","forEach","name","user","profile_image_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../../api\";\n\nfunction Sidebar() {\n  const [topStreams, setTopStreams] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await api.get(\"https://api.twitch.tv/helix/streams\");\n\n      let dataArray = result.data.data;\n\n      let gameIDs = dataArray.map(stream => {\n        return stream.game_id;\n      });\n\n      let userIDs = dataArray.map(stream => {\n        return stream.user_id;\n      });\n\n      let baseUrlGames = \"https://api.twitch.tv/helix/games?\";\n      let baseUrlUsers = \"https://api.twitch.tv/helix/users?\";\n\n      let queryParamsGame = \"\";\n      let queryParamsUsers = \"\";\n\n      gameIDs.map(id => {\n        return (queryParamsGame = queryParamsGame + `id=${id}$`);\n      });\n\n      userIDs.map(id => {\n        return (queryParamsUsers = queryParamsUsers + `id=${id}$`);\n      });\n\n      let urlFinalGames = baseUrlGames + queryParamsGame;\n      let urlFinalUsers = baseUrlUsers + queryParamsUsers;\n\n      let gamesNames = await api.get(urlFinalGames);\n      let getUsers = await api.get(urlFinalUsers);\n\n      let gamesNameArray = gamesNames.data.data;\n      let arrayUsers = getUsers.data.data;\n\n      let finalArray = dataArray.map(stream => {\n        stream.gameName = \"\";\n        stream.truePic = \"\";\n        stream.login = \"\";\n\n        gamesNameArray.forEach(name => {\n          arrayUsers.forEach(user => {\n            if (stream.user_id === user.id && stream.game_id === name.id) {\n              stream.truePic = user.profile_image_url;\n              stream.gameName = name.name;\n              stream.login = user.login;\n            }\n          });\n        });\n        return stream;\n      });\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <h2 className=\"titreSidebar\">Chaînes recommandées</h2>\n      <ul className=\"lsiteStream\"></ul>\n    </div>\n  );\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}